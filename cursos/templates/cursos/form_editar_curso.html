{% extends "encabezado.html" %}
{% load static %}

{% block titulo %}Editar Curso{% endblock %}

{% block contenido %}
<section class="container">
  <div class="card shadow-sm border-0 mt-4">
    <div class="card-body">
      <h4 class="card-title">Editando Curso: {{ curso.nombre }}</h4>
      <form method="POST" action="{% url 'editar_curso' curso.id %}" enctype="multipart/form-data" class="row g-3">
        {% csrf_token %}

        <div class="col-md-6">
          <label class="form-label">Clave:</label>
          <input value="{{ curso.clave }}" name="clave" class="form-control" type="text">
        </div>

        <div class="col-md-6">
          <label class="form-label">Nombre:</label>
          <input value="{{ curso.nombre }}" name="nombre" class="form-control" type="text">
        </div>

        <div class="col-12">
          <label class="form-label">Descripción:</label>
          <textarea name="descripcion" rows="3" class="form-control">{{ curso.descripcion }}</textarea>
        </div>

        <div class="col-md-6">
          <label class="form-label">Nivel:</label>
          <select name="nivel" class="form-select">
            <option value="Básico" {% if curso.nivel == 'Básico' %}selected{% endif %}>Básico</option>
            <option value="Intermedio" {% if curso.nivel == 'Intermedio' %}selected{% endif %}>Intermedio</option>
            <option value="Avanzado" {% if curso.nivel == 'Avanzado' %}selected{% endif %}>Avanzado</option>
          </select>
        </div>

        <div class="col-md-6">
          <label class="form-label">Duración:</label>
          <input value="{{ curso.duracion_horas }}" name="duracion_horas" type="number" class="form-control">
        </div>

        <div class="col-md-6">
          <label class="form-label">Costo:</label>
          <input value="{{ curso.costo }}" name="costo" type="number" step="0.01" class="form-control">
        </div>

        <div class="col-md-6">
          <label class="form-label">Imagen actual:</label><br>
          {% if curso.imagen %}
            <img src="{{ curso.imagen.url }}" width="80" class="img-thumbnail mb-2"><br>
          {% endif %}
          <input name="imagen" type="file" class="form-control">
        </div>

        <div class="col-12 text-end">
          <button type="submit" class="btn btn-success">Guardar Cambios</button>
          <a href="{% url 'cursos' %}" class="btn btn-secondary">Cancelar</a>
        </div>
      </form>
    </div>
  </div>
</section>
{% endblock %}